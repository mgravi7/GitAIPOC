# ============================================
# GitAIPOC - Environment Configuration Template
# ============================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control!

# ============================================
# GITLAB CE CONFIGURATION (for POC)
# ============================================
# Root password for GitLab admin user
GITLAB_ROOT_PASSWORD=YourSecurePassword123!

# GitLab external URL (use http://localhost for POC)
GITLAB_EXTERNAL_URL=http://localhost

# GitLab HTTP port (default: 80)
GITLAB_HTTP_PORT=80

# GitLab HTTPS port (default: 443)
GITLAB_HTTPS_PORT=443

# GitLab SSH port (default: 2222 to avoid conflicts)
GITLAB_SSH_PORT=2222

# ============================================
# GITLAB API CONFIGURATION (for Review Agent)
# ============================================
# GitLab instance URL (http://gitlab for Docker network, http://localhost for local testing)
GITLAB_URL=http://gitlab

# GitLab Personal Access Token (generate in GitLab: User Settings ? Access Tokens)
# Scopes required: api, read_api, read_repository, write_repository
GITLAB_TOKEN=glpat-your-token-here

# Webhook secret for GitLab ? Review Agent authentication (generate random string)
GITLAB_WEBHOOK_SECRET=your-webhook-secret-here

# Tag to trigger AI review (add this label to MRs to trigger reviews)
GITLAB_TRIGGER_TAG=ai-review

# ============================================
# ANTHROPIC API CONFIGURATION
# ============================================
# Anthropic API Key (get from: https://console.anthropic.com/)
ANTHROPIC_API_KEY=sk-ant-your-api-key-here

# AI Model to use (Claude Sonnet 4.5)
# Options: anthropic:claude-sonnet-4.5-20241022, anthropic:claude-3-5-sonnet-20241022
AI_MODEL=anthropic:claude-sonnet-4.5-20241022

# ============================================
# REVIEW AGENT SECURITY
# ============================================
# Bearer token for API authentication (generate random string)
# This protects the review agent's API endpoints
API_KEY=your-bearer-token-here

# Environment (development, staging, production)
ENVIRONMENT=development

# ============================================
# RATE LIMITING (Cost Control)
# ============================================
# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Global rate limit for all requests (requests/time_period)
# Examples: 100/minute, 1000/hour, 10000/day
GLOBAL_RATE_LIMIT=100/minute

# Webhook-specific rate limit
WEBHOOK_RATE_LIMIT=10/minute

# Maximum request size in bytes (10MB default)
MAX_REQUEST_SIZE=10485760

# ============================================
# CIRCUIT BREAKER (Resilience)
# ============================================
# Number of failures before opening circuit
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5

# Circuit recovery timeout in seconds
CIRCUIT_BREAKER_TIMEOUT=60

# ============================================
# TOOL SYSTEM CONFIGURATION
# ============================================
# Enable enhanced tool analysis
TOOLS_ENABLED=true

# Execute tools in parallel for faster analysis
TOOLS_PARALLEL_EXECUTION=true

# Tool execution timeout in seconds
TOOLS_TIMEOUT=30

# Enable Context7 documentation validation
CONTEXT7_ENABLED=true

# Context7 service URL (if using separate Context7 container)
CONTEXT7_API_URL=http://context7:8080

# Context7 maximum tokens for validation
CONTEXT7_MAX_TOKENS=2000

# Context7 cache TTL in seconds
CONTEXT7_CACHE_TTL=3600

# ============================================
# STANDARDS-BASED RULE ENGINE
# ============================================
# Enable standards-based rule engine
RULE_ENGINE_ENABLED=true

# Rule cache TTL in seconds
RULE_CACHE_TTL=3600

# Enable OWASP Top 10 integration
OWASP_INTEGRATION=true

# Enable NIST Cybersecurity Framework
NIST_INTEGRATION=true

# Enable Python PEP standards
PYTHON_STANDARDS=true

# Enable framework-specific standards (FastAPI, Django, Flask)
FRAMEWORK_STANDARDS=true

# ============================================
# TOOL CATEGORIES (Optional Fine-Tuning)
# ============================================
# Enabled tool categories (comma-separated)
ENABLED_TOOL_CATEGORIES=documentation,security,performance,correctness,maintainability

# Disabled tool categories (comma-separated, overrides enabled)
# DISABLED_TOOL_CATEGORIES=

# Specific tools to enable (comma-separated)
# ENABLED_TOOLS=SecurityAnalysisTool,PerformancePatternTool

# Specific tools to disable (comma-separated, overrides enabled)
# DISABLED_TOOLS=CodeQualityTool

# ============================================
# LOGGING
# ============================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable debug mode (verbose logging)
DEBUG=false

# ============================================
# CORS CONFIGURATION
# ============================================
# Allowed origins for CORS (comma-separated)
# For development: http://localhost,http://localhost:80
# For production: https://gitlab.yourcompany.com
ALLOWED_ORIGINS=http://localhost,http://localhost:80

# ============================================
# COST TRACKING CONFIGURATION
# ============================================
# Daily budget in USD
DAILY_BUDGET_USD=5.00

# Monthly budget in USD
MONTHLY_BUDGET_USD=100.00

# Alert threshold percentage (80 = alert at 80% of budget)
ALERT_THRESHOLD_PERCENT=80

# Cost alert email (optional)
COST_ALERT_EMAIL=your-email@company.com

# Cost alert Slack webhook (optional)
# COST_ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/xxx

# Daily report time (HH:MM format, 24-hour)
DAILY_REPORT_TIME=09:00

# Weekly report day (Monday, Tuesday, etc.)
WEEKLY_REPORT_DAY=Monday

# ============================================
# DOCKER NETWORK CONFIGURATION
# ============================================
# Docker network name for services
DOCKER_NETWORK=gitaipoc-network

# ============================================
# OPTIONAL: SONARQUBE (Phase 3 - Stretch Goal)
# ============================================
# SonarQube host URL
# SONARQUBE_HOST=http://sonarqube:9000

# SonarQube authentication token
# SONARQUBE_TOKEN=your-sonarqube-token-here

# ============================================
# NOTES
# ============================================
# 1. Generate secure random strings for:
#    - GITLAB_ROOT_PASSWORD
#    - GITLAB_WEBHOOK_SECRET
#    - API_KEY
#
# 2. Get your Anthropic API key from: https://console.anthropic.com/
#
# 3. GitLab Personal Access Token: Create in GitLab UI
#    - Go to: User Settings ? Access Tokens
#    - Scopes: api, read_api, read_repository, write_repository
#
# 4. For production deployment, change:
#    - GITLAB_URL to your team's GitLab URL
#    - ENVIRONMENT to "production"
#    - ALLOWED_ORIGINS to your team's GitLab URL
#    - Use separate API keys for dev/prod
